<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Webseite von Luca Schm. und Daniel St.</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <style>
      .spacer {
        margin-top: 10px;
        margin-left: 10px;
        margin-right: 10px;
        padding-top: 10px;
      }

      /* !ÄNDERN! */
    </style>
  </head>
  <body>
    <div class="navigations-bar">
      <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <a class="navbar-brand" style="color:white">Navigation</a>

        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#collapsibleNavbar"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Startseite</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="Verschlüsselung.html"
                >Verschlüsselung</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link">Link</a>
            </li>
          </ul>
        </div>
      </nav>
    </div>

    <!-- Cäsar neu -->
    <div class="row spacer">
      <div class="col-md col-sm">
        <div class="card">
          <div class="card-header">
            Cäsar
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md col-sm">
                Das Cäesar verfahren arbeitet auf grundlage des einfachen
                verschiebens des Alphabetes. Aufgrund von nur 25 möglichen
                Kombinationen ist dies verfahren heutzutage in Milliesekunden
                geknackt. Unten ist eine Demo des Cäesar verfahrens. Diese
                verschiebt das Alphabet um 7 stellen.
              </div>
            </div>
            <div class="row">
              <div class="col-md col-sm-3 py-2">
                <input
                  class="form-control"
                  placeholder="Input"
                  id="inputCäesar"
                />
              </div>
              <div class="col-md col-sm-3 py-2">
                <input
                  class="form-control"
                  type="text"
                  placeholder="OUTPUT"
                  id="outputCäesar"
                  readonly
                />
              </div>
              <div class="col-md-2 col-sm-2 py-2">
                <button
                  type="button"
                  class="btn btn-primary px-3 "
                  id="CäesarCodieren"
                >
                  Codieren
                </button>
              </div>
              <div class="col-md col-sm-6 ">
                Das Cäesar verfahren arbeitet auf grundlage des einfachen
                verschiebens des Alphabetes. Aufgrund von nur 25 möglichen
                Kombinationen ist dies verfahren heutzutage in Milliesekunden
                geknackt. Unten ist eine Demo des Cäesar verfahrens. Diese
                verschiebt das Alphabet um 7 stellen.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Cäsar ENDE -->
    <!-- Vigenere -->
    <div class="row spacer">
      <div class="col-md col-sm">
        <div class="card">
          <div class="card-header">
            Viginär
          </div>
          <div class="card-body">
            <div class="row">
              <!-- Text incl.DEMO -->
              <div class="col-xl">
                Das Viginär System ist komplizierter als das Cäesar verfahren,
                jedoch nicht unknackbar. Beim Viginär verfahren wird ein
                Schlüssel benötigt. Dieser Schlüssel wird zum Codieren sowie dem
                Decodieren verwendet.<br />
                Jedem Buchstaben wird ein Buchstabe des Schlüssels zugewiesen.
                Falls der Schlüssel kleiner ist als der Geheimtext wird der
                Schlüssel soweit wiederholt, bis alle Buchstaben des Textes
                einen Buchstaben des Schlüssels zugewiesen bekommen haben.
                Bsp:<br />
                GEHEIMTEXT<br />
                TEXTTEXTTEX<br />
                Wie man auf dem Bild schon erkennen kann, ist es Praktisch eine
                Übersetzungstabelle. Man wählt nun den Buchstaben G aus markiert
                sich dann die Spalte des G´s. Danach nimmt man sich das T vor
                und markiert sich die Zeile des T´s. Der Buchstabe am
                Kreuzungspunkt ist nun der neue Buchstabe. Dies führt man für
                jeden Buchstaben des zu verschlüsselnen Textes durch und hat
                dann die Verschlüsselte Nachricht.<br />
                In der Demo werden spaces herausgefiltert und im falle des
                Inputs wieder eingesetzt. Spaces im Key werden missachtet. Beide
                Strings werden zu Uppercase convertiert, da sonst der
                Algorithmus seine einfachkeit verliert (Schau zwecke).<br />
                (Randinfo: Das Beispiel von Uwe Debacher ist fehlerhaft und
                filtert keine leerzeichen)
                <div class="row">
                  <div class="col-md py-2 my-1">
                    <input
                      class="form-control"
                      id="viginereInput"
                      placeholder="Input"
                    />
                  </div>
                  <div class="col-md py-2 my-1">
                    <input
                      class="form-control"
                      id="viginereKey"
                      placeholder="Key"
                    />
                  </div>
                  <div class="col-md py-2 my-1">
                    <input
                      class="form-control"
                      id="viginereOutput"
                      placeholder="Output"
                      disabled="disabled"
                    />
                  </div>
                  <div class="col-md py-2">
                    <div class="row">
                      <div class="col-md my-1">
                        <button
                          class="btn btn-primary px-4"
                          id="viginereCodieren"
                        >
                          Codieren
                        </button>
                      </div>
                      <div class="col-md my-1">
                        <button
                          class="btn btn-primary px-4"
                          id="viginereDecodieren"
                        >
                          Decodieren
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Text incl. demo ende -->
              <!-- img -->
              <div class="col-xl-3 text-center">
                <img
                  src="img/VigenereAutokey1.jpg"
                  class="img-fluid rounded"
                  style="margin-left:auto;margin-right:auto;"
                />
              </div>
              <!-- img ende -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Vigenere ENDE -->
  </body>
</html>

<script type="text/javascript">
  $("#CäesarCodieren").on("click", function() {
    var Input = $("#inputCäesar").val();
    var Output = "";
    for (var i in Input) {
      var KeyCode = Input.charCodeAt(i);
      if (KeyCode > 96 && KeyCode < 116) {
        KeyCode = KeyCode + 7;
        Output += String.fromCharCode(KeyCode);
      } else if (KeyCode > 115 && KeyCode < 123) {
        KeyCode = KeyCode - 26 + 7;
        Output += String.fromCharCode(KeyCode);
      } else if (KeyCode > 64 && KeyCode < 84) {
        KeyCode = KeyCode + 7;
        Output += String.fromCharCode(KeyCode);
      } else if (KeyCode > 83 && KeyCode < 91) {
        KeyCode = KeyCode - 26 + 7;
        Output += String.fromCharCode(KeyCode);
      } /* Zahlenverschiebung noch nicht vorhanden */ else {
        Output += String.fromCharCode(KeyCode);
      }
    }
    $("#outputCäesar").val(Output);
  });

  $("#viginereCodieren").on("click", function() {
    viginereCodieren();
    /*  var input = $("#viginereInput").val();
    var key = $("#viginereKey").val();
    var output = "";
    var input = input.toUpperCase();
    var spaceArray = [];
    for (var a in input) {
      if (input[a] == " ") {
        spaceArray.push(a);
      }
    }
    input = input.replace(/\s/g, "");
    for (var i in input) {
      var char = input[i];
      var code = char.charCodeAt(0);
      var key2;

      key2 = key[i % key.length];

      if (code != 32) {
        key2 = key2.charCodeAt(0);
        key2 -= 65;
        if (code != 32) {
          if (code > 64 && code < 91) {
            code = code + key2;
            if (code > 89) {
              code -= 26;
            }
            if (code < 65) {
              code += 26;
            }
          }
        }
      }
      char = String.fromCharCode(code);
      a = 0;
      for (a in spaceArray) {
        if (i == spaceArray[a]) {
          output += " ";
        }
      }
      output += char;
    }
    $("#viginereOutput").val(output); */
  });

  function viginereCodieren() {
    var input = $("#viginereInput").val();
    var key = $("#viginereKey").val();
    var output = "";
    var spacesInput = [];
    var spacesKey = [];

    for (var i in input) {
      if (/^\s$/.test(input[i])) {
        spacesInput.push(i);
      }
    }
    for (var i in key) {
      if (/^\s$/.test(key[i])) {
        spacesKey.push(i);
      }
    }
    input = input.replace(/\s/g, "");
    key = key.replace(/\s/g, "");

    input = input.toUpperCase();
    key = key.toUpperCase();
    for (var i in input) {
      var char = input[i];
      char = char.charCodeAt(0);

      var key2;

      key2 = key[i % key.length];
      key2 = key2.charCodeAt(0);
      key2 -= 65;
      if (char > 64 && char < 91) {
        char += key2;
        if (char > 89) {
          char -= 26;
        }
        if (char < 65) {
          char += 26;
        }
      }
      char = String.fromCharCode(char);

      output += char;
      for (var a in spacesInput) {
        var z = parseInt(i);
        z++;
        console.log(z);
        if (spacesInput[a] == z) {
          output += " ";
        }
      }
    }
    $("#viginereOutput").val(output);
  }
</script>
